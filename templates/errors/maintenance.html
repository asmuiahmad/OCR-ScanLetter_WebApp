{% extends "layouts/base-login.html" %}

{% block title %}Maintenance - Sistem Sedang Diperbaiki{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4">
    <div class="max-w-2xl w-full">
        <!-- Main Maintenance Card -->
        <div class="bg-white rounded-3xl shadow-2xl overflow-hidden">
            <!-- Header with gradient -->
            <div class="bg-gradient-to-r from-blue-500 to-indigo-600 px-8 py-6">
                <div class="flex items-center justify-center">
                    <div class="bg-white bg-opacity-20 rounded-full p-4 animate-spin" style="animation-duration: 3s;">
                        <i class="fas fa-cog text-white text-4xl"></i>
                    </div>
                </div>
            </div>
            
            <!-- Content -->
            <div class="px-8 py-12 text-center">
                <!-- Maintenance Icon -->
                <div class="mb-8">
                    <div class="inline-flex items-center justify-center w-32 h-32 bg-blue-100 rounded-full mb-6">
                        <i class="fas fa-tools text-blue-600 text-5xl"></i>
                    </div>
                </div>
                
                <!-- Maintenance Message -->
                <div class="mb-8">
                    <h1 class="text-4xl font-bold text-gray-800 mb-4">
                        Sistem Sedang Diperbaiki
                    </h1>
                    <p class="text-lg text-gray-600 mb-6">
                        Kami sedang melakukan pemeliharaan sistem untuk meningkatkan kualitas layanan.
                    </p>
                    
                    <!-- Maintenance Info -->
                    <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-left">
                            <div>
                                <h3 class="font-semibold text-blue-800 mb-2">
                                    <i class="fas fa-clock mr-2"></i>Estimasi Waktu
                                </h3>
                                <p class="text-blue-700 text-sm">
                                    {{ maintenance_duration or '2-3 jam' }}
                                </p>
                            </div>
                            <div>
                                <h3 class="font-semibold text-blue-800 mb-2">
                                    <i class="fas fa-calendar mr-2"></i>Jadwal
                                </h3>
                                <p class="text-blue-700 text-sm">
                                    {{ maintenance_schedule or 'Hari ini, 02:00 - 05:00 WIB' }}
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- What's Being Updated -->
                    <div class="bg-green-50 border border-green-200 rounded-xl p-6 mb-6">
                        <h3 class="font-semibold text-green-800 mb-3 flex items-center justify-center">
                            <i class="fas fa-rocket mr-2"></i>
                            Yang Sedang Diperbaiki
                        </h3>
                        <ul class="text-green-700 text-sm space-y-2 text-left">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2 flex-shrink-0"></i>
                                Peningkatan performa sistem
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2 flex-shrink-0"></i>
                                Update keamanan terbaru
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2 flex-shrink-0"></i>
                                Perbaikan bug dan optimisasi
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2 flex-shrink-0"></i>
                                Penambahan fitur baru
                            </li>
                        </ul>
                    </div>
                </div>
                
                <!-- Progress Bar -->
                <div class="mb-8">
                    <div class="flex justify-between text-sm text-gray-600 mb-2">
                        <span>Progress</span>
                        <span id="progress-text">65%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div class="bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full transition-all duration-1000" 
                             style="width: 65%" id="progress-bar"></div>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-8">
                    <button onclick="location.reload()" 
                            class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
                        <i class="fas fa-redo mr-3"></i>
                        Refresh Halaman
                    </button>
                    
                    <a href="mailto:admin@suratapp.com" 
                       class="inline-flex items-center px-8 py-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300">
                        <i class="fas fa-envelope mr-3"></i>
                        Hubungi Admin
                    </a>
                </div>
                
                <!-- Status Updates -->
                <div class="bg-gray-50 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center justify-center">
                        <i class="fas fa-bell mr-2"></i>
                        Update Status
                    </h3>
                    <div class="space-y-3 text-left">
                        <div class="flex items-start">
                            <div class="flex-shrink-0 w-2 h-2 bg-green-500 rounded-full mt-2 mr-3"></div>
                            <div>
                                <p class="text-sm text-gray-600">
                                    <span class="font-medium">05:30</span> - Database optimization completed
                                </p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3"></div>
                            <div>
                                <p class="text-sm text-gray-600">
                                    <span class="font-medium">04:15</span> - Security updates in progress
                                </p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3"></div>
                            <div>
                                <p class="text-sm text-gray-600">
                                    <span class="font-medium">03:00</span> - Maintenance started
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Contact Info -->
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <p class="text-gray-500 text-sm mb-2">
                        Untuk informasi lebih lanjut:
                    </p>
                    <div class="flex justify-center items-center space-x-4">
                        <span class="text-blue-600 font-medium text-sm">
                            <i class="fas fa-envelope mr-1"></i>
                            maintenance@suratapp.com
                        </span>
                        <span class="text-gray-400">|</span>
                        <span class="text-blue-600 font-medium text-sm">
                            <i class="fas fa-phone mr-1"></i>
                            IT Support
                        </span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Floating Elements -->
        <div class="absolute top-20 left-10 w-20 h-20 bg-blue-200 rounded-full opacity-20 animate-pulse"></div>
        <div class="absolute bottom-20 right-10 w-32 h-32 bg-indigo-200 rounded-full opacity-20 animate-bounce" style="animation-delay: 1s;"></div>
        <div class="absolute top-1/2 left-5 w-16 h-16 bg-purple-200 rounded-full opacity-20 animate-ping" style="animation-delay: 2s;"></div>
    </div>
</div>

<script>
// Simulate progress updates
let progress = 65;
const progressBar = document.getElementById('progress-bar');
const progressText = document.getElementById('progress-text');

function updateProgress() {
    if (progress < 100) {
        progress += Math.random() * 2;
        if (progress > 100) progress = 100;
        
        progressBar.style.width = progress + '%';
        progressText.textContent = Math.round(progress) + '%';
        
        if (progress >= 100) {
            setTimeout(() => {
                location.reload();
            }, 2000);
        }
    }
}

// Update progress every 30 seconds
setInterval(updateProgress, 30000);

// Auto refresh every 5 minutes
setTimeout(() => {
    location.reload();
}, 300000);
</script>
{% endblock %}